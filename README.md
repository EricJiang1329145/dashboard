# Dashboard Application

这是一个现代化的仪表板应用程序，具有直观的用户界面和丰富的功能。

## 最近更新

- **移除了SettingsView中的NavigationView**：修复了在ContentView中调用SettingsView时出现的方框底层问题，现在设置界面在两种预览模式下都能正确显示圆角效果，不会有额外的方框遮挡下方组件。

## 功能特性

- 🕐 实时数字时钟显示（24小时制）
- ⚙️ 设置面板（可通过右上角齿轮图标访问）
- 🎨 Liquid Glass 设计风格
- 📱 响应式设计，适配不同屏幕尺寸
- 💾 设置持久化存储（设置项会在应用重启后保留）

##### 最新更新
- **重构设置确认机制**：将设置页的所有参数设置为存储在应用数据内，调整开关后对勾变成可用状态，只有打勾才能应用修改，否则不应用修改
- **统一确认流程**：移除子页面确认按钮，仅在总设置页面提供确认功能，避免重复确认
- **修复状态保持问题**：子设置页面不再重置未保存的设置，保持用户在总页面未保存的修改状态
- **新增十二小时制支持**：添加12/24小时制切换功能，12小时制下AM/PM标识显示在时间右侧上方（大写，靠上对齐）
- 优化了内部元素宽度：将时间格式和字体大小设置项的宽度调整为85%，避免占据整行，让液态玻璃效果更好地包围内容
- 修复了时间格式栏目的液态玻璃效果：优化了按钮背景透明度和布局约束，确保液态玻璃效果完全包住内部元素
- 改进了状态管理：移除了不必要的onChange处理，简化了状态更新逻辑
- 更新了onChange语法以兼容iOS 17.0及以上版本
- 修复了24小时制切换后时钟显示问题：确保时钟显示格式正确
- 进一步修复了24小时制切换后时钟显示问题：确保时钟在切换设置时能立即正确更新显示格式
- 移除了十二小时制切换功能：时钟现在只支持24小时制显示
- 完善了数据持久化功能：所有设置项都会保存在本地存储中，不会随软件关闭而重置
- 修复了设置页面覆盖问题：调整了设置页面的显示方式，使其不会覆盖整个屏幕，仅在指定区域内显示
- 优化了设置页面圆角显示效果：移除了标题栏的背景色，使设置页面的圆角更加明显
- 进一步优化了设置页面的圆角效果：使用RoundedRectangle重新设计了设置页面的背景，确保圆角效果更加明显和美观

## 组件说明

### 主要组件

1. **ContentView** - 主视图，包含时钟组件和设置按钮
2. **ClockView** - 数字时钟组件，显示当前时间
3. **SettingsView** - 设置面板组件，提供各种自定义选项
4. **ClockSettingsView** - 时钟设置子页面，用于配置时钟相关参数
5. **UserSettings** - 用户设置管理器，负责设置的加载、保存和持久化

### 组件交互关系

```
ContentView (主视图)
├── ClockView (时钟组件)
└── SettingsView (设置面板)
    └── ClockSettingsView (时钟设置子页面)

UserSettings (共享设置管理器)
├── showSeconds (实际应用的秒数显示设置)
├── fontSize (实际应用的字体大小设置)
├── tempShowSeconds (临时秒数显示设置)
├── tempFontSize (临时字体大小设置)
└── 设置应用/重置方法
```

## 技术实现

- 使用 SwiftUI 构建用户界面
- 使用 @Binding 实现组件间数据传递
- 使用 @ObservedObject 和 UserDefaults 实现数据持久化
- 使用 Liquid Glass 效果增强视觉体验
- 使用 MVVM 架构模式组织代码结构

## 使用方法

1. 运行项目
2. 查看实时数字时钟显示
3. 点击右上角齿轮图标打开设置面板
4. 在设置面板中调整各项参数
5. 点击确认按钮（打勾图标）应用修改（仅在设置项有修改时可用）
6. 如果不点击确认按钮直接关闭设置页面，修改将不会被应用
7. 关闭应用后重新打开，设置项将保持上次确认保存的状态
8. 删除了设置页面的半透明黑色背景覆盖层，使设置页面更加简洁
9. 为SettingsView添加了详细的中文注释，提高代码可读性和可维护性

## 开发说明

### 项目结构

```
Dashboard/
├── Components/
│   ├── ClockView.swift           # 数字时钟组件
│   ├── SettingsView.swift        # 设置面板组件
│   └── ClockSettingsView.swift   # 时钟设置子页面
├── Models/
│   └── UserSettings.swift        # 用户设置管理器
├── Resources/
│   └── Assets.xcassets/          # 应用资源文件
├── Preview Content/
│   └── Preview Assets.xcassets/  # 预览资源文件
└── dashboardApp.swift            # 应用程序入口点
```

### 设计理念

本项目遵循以下设计理念：

1. **简洁性** - 界面设计简洁明了，避免不必要的复杂性
2. **一致性** - 所有组件保持统一的设计风格和交互方式
3. **可扩展性** - 采用模块化设计，便于后续功能扩展
4. **用户体验** - 注重用户体验，提供流畅的操作流程
5. **性能优化** - 优化组件性能，确保应用运行流畅

## 文档

详细的技术文档请参阅 [docs](./docs) 目录：

- [组件设计说明](./docs/component-design.md)
- [时钟组件](./docs/clock-component.md)
- [时钟设置组件](./docs/clock-settings-component.md)
- [设置组件](./docs/settings-component.md)